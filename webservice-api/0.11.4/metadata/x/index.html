<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title>SeqWare Web Service API: Metadata - Experimental Resources</title>
<link href="../../../css/reset.css" rel="stylesheet" type="text/css">
<link href="../../../css/960.css" rel="stylesheet" type="text/css">
<link href="../../../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../../../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../../../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../../../shared/js/jquery.js" type="text/javascript"></script><script src="../../../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="http://oicr.on.ca/"><img src="../../../images/OICR2logo.png" height="45"></a>
          <ul class="nav">
<li><a href="../../../">SeqWare Web Service API</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-topic">
            <h3>
<a href="#" class="js-expand-btn collapsed"> </a><a href="../../../">SeqWare Webservice RESTful API</a>
</h3>
            <ul class="js-guides">
<li><a href="../">Metadata</a></li>
              <li><a href="../../pipeline/">Pipeline</a></li>
            </ul>
</li>
          <li class="js-topic">
            <h3>
<a href="#" class="js-expand-btn collapsed"> </a><a href="../">Metadata Resources</a>
</h3>
            <ul class="js-guides">
<li><a href="../db/">Data</a></li>
              <li><a href="../report/">Reports</a></li>
              <li><a href="../job/">Jobs</a></li>
              <li><span class="active" title="You're here.">Experimental</span></li>
              <li><a href="../libraries/">Libraries</a></li>
            </ul>
</li>
          <li class="js-topic">
            <h3>
<a href="#" class="js-expand-btn collapsed"> </a><a href="../../files/">Files</a>
</h3>
            <ul class="js-guides">
<li><a href="../../files/attributes/">Attributes</a></li>
          </ul>
</li>
          <li class="js-topic">
            <h3>
<a href="#" class="js-expand-btn collapsed"> </a><a href="../../pipeline/">Pipeline Resources</a>
</h3>
            <ul class="js-guides">
<li><a href="../../pipeline/job/">Jobs</a></li>
            </ul>
</li>
        </ul>
</div> <!-- /sidebar-module -->
    	</div>
<!-- /sidebar-shell -->
	<h1>Metadata - Experimental Resources</h1>
	<h2 id="overview">Overview</h2>

<p>These resources are for those under development or in a testing phase. They can be turned off at runtime to prohibit risky operations. </p>

<h1 id="validation-report-api">Validation Report API</h1>

<p>A collection of reports useful when verifying that data in the SeqWare meta
db is correct.</p>

<h2 id="file-reverse-hierarchy-display">File reverse hierarchy display</h2>

<pre><code>GET /x/report/reversehierarchy/{file-swa}
</code></pre>

<p>Produces a text representation of a reverse hierarchy tree starting at a
file (indicated by the provided file-swa). The tree includes all the
processing nodes that led to the creation of the file as well as all the
links (sequencer_run, lane, ius, sample, experiment, study) to those
processing nodes.</p>

<p>This report is useful for answering the question: What steps led to the
creation of this file?</p>

<h3 id="response">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="nx">FILE</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182467</span> <span class="nx">FILE</span> <span class="nx">NAME</span><span class="o">:</span> <span class="nx">SWID_9858_PCSI_0106_Ly_R_PE_190_WG_110916_L004_R1_001</span><span class="p">.</span><span class="nx">fastq</span><span class="p">.</span><span class="nx">gz</span><span class="p">.</span><span class="nx">annotated</span><span class="p">.</span><span class="nx">bam</span> <span class="nx">Processing</span> <span class="nx">Children</span><span class="o">:</span> <span class="mi">1</span>
   <span class="nx">PicardAddReadGroups</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182453</span>
   <span class="nx">PicardSortNovoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182409</span>
   <span class="nx">PicardConvertNovoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182388</span>
   <span class="nx">Novoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">181997</span>
   <span class="nx">WORKFLOW</span> <span class="nx">GenomicAlignmentNovoalign</span> <span class="mf">0.10</span><span class="p">.</span><span class="mi">1</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">23341</span>
      <span class="nx">BCLToFastq</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">178878</span>
         <span class="nx">LINK</span> <span class="nx">IUS</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">9858</span>
      <span class="nx">Bustard</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">178810</span>
         <span class="nx">LINK</span> <span class="nx">Lane</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">9857</span>
      <span class="nx">WORKFLOW</span> <span class="nx">CASAVA</span><span class="o">-</span><span class="nx">RTA</span> <span class="mf">1.8</span><span class="p">.</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">37743</span>
   <span class="nx">PicardSortNovoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182432</span>
   <span class="nx">PicardConvertNovoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">182388</span>
   <span class="nx">Novoalign</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">181997</span>
   <span class="nx">WORKFLOW</span> <span class="nx">GenomicAlignmentNovoalign</span> <span class="mf">0.10</span><span class="p">.</span><span class="mi">1</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">23341</span>
      <span class="nx">BCLToFastq</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">178878</span>
         <span class="nx">LINK</span> <span class="nx">IUS</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">9858</span>
      <span class="nx">Bustard</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">178810</span>
         <span class="nx">LINK</span> <span class="nx">Lane</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">9857</span>
      <span class="nx">WORKFLOW</span> <span class="nx">CASAVA</span><span class="o">-</span><span class="nx">RTA</span> <span class="mf">1.8</span><span class="p">.</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span> <span class="nx">SWA</span><span class="o">:</span> <span class="mi">37743</span></code></pre>

<h2 id="file-link-report">File link report</h2>

<pre><code>GET /x/report/filelinkreport/{file-swa}
</code></pre>

<p>Every file must be associated with at least one processing node and this
node in turn must be linked (either directly or through a parent) to one of
 the following: sequencer_run, lane, ius, sample, experiment or study.</p>

<p>This report includes all files included in the given list of file-swas (file
SeqWare accesssions) and notes the number of links that exist for that
file. An orphaned files is inidicated when the total number of links for the
file is zero (0). Most files will have 1 or 2 links. Files with more than
2 links are not necessarily incorrectly linked, but are worthy of investigation to
ensure they are correctness.</p>

<h3 id="input">Input</h3>

<p>You can provide a list of file-swas to report on.</p>

<pre class="highlight"><code class="language-javascript"><span class="mi">182467</span><span class="p">,</span><span class="mi">186014</span><span class="p">,</span><span class="mi">25877</span></code></pre>

<p>If no file-swa is provided the report will be generated for all the files in the seqware meta db. A report that includes all the files will take a long time to produce.</p>

<h3 id="response-1">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight">
total_links #SRL SeqRunSWAs #LL LaneSWAs #IL IusSWAs #SaL SampleSWAs #EL ExpSWAs #StL StudySWAs file_SWA          file_name 
          1    0              0            1   15687    0              0            0              25877 s_7_2_sequence.txt
          2    0              1    24648   1   15687    0              0            0             186014 s_5_1_sequence.txt
</pre>
      </div>

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal"> 
              <!--[if IE]><a class="home_ie" href="http://oicr.on.ca">Home</a><![endif]-->
              <a class="home" href="http://oicr.on.ca">Home</a>

              <p>© <span id="year">year</span> Ontario Institute for Cancer Research. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
